.container {
  left: 0;
  @include transition( all 500ms cubic-bezier(0.51, 0, 0.6, 1) 0ms);
}

$fadeout_pages: '.container.loading, .container.signin, .container.not_authorized .container.home';


// what the current page does:
.transitioning {
  // normal pages go to the LHS
  .current_page {
    left: -100%;
    @include opacity(.2);
  }
  
  // except for going to the leagues page from the roster/season pages
  &.to_teams {
    &.from_games, &.from_players {
      .current_page {
        left: 100%;
      }
    }
  }
  
  // fade out pages get big and transparent
  #{$fadeout_pages} {
    &.current_page {
      left: 0;
      @include opacity(0);
      @include transform( scale(2) );
    }
  }
}

// what the next page does:
// normally starts to the RHS
.container.next_page {
  left: 100%;
  .transitioning & {
    left: 0;
  }
}

// and if the next page is the leagues page, it starts to the lhs
.next_page.teams {
  left: -100%;
}

// unless it's transitioning from a fadeout page, in which case it fades in
#{$fadeout_pages} {
  & + .container.next_page {
    left: 0;
    opacity: 0;
    .transitioning & {
      opacity: 1;
    }
  }
}