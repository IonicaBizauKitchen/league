<template name="players">
  {{#if team }}{{#with team }}
    <div class="players">
      <header>
        <a href="/leagues" class="back btn">Leagues</a>
        <h1>Lineup</h1>

      </header>
      <article>

        <small>
          <a class="start_season btn fwd">
            {{#if attributes.started}}
              Continue Season
            {{else}}
              Start Season
            {{/if}}
          </a>
        </small>

        <div id="lineup">
          <div class="team_logo">
            {{{ logo this size="small" }}}
          </div>
          <h2>Roster</h2>
          <div class="required_players">
            <em>Teammates needed to play</em>
            <small>
              <a class="btn secondary icon12 player">4 <span class="icon12 arrows"></a>
            </small>
          </div>
          <ul class="player_list miniature roster">
            {{#if alone_in_team}}
            <li>Add team players</li>
            {{/if}}
            
            {{#each players }}
              {{> player}}
            {{/each}}
          </ul>
          {{> add_player}}
        </div>
      </article>
    </div>
  {{/with}}{{/if}}
</template>

<template name="player">
  <li class="player {{in_team_class}}">
    <div class="image">
      <span class="icon16 checkmark"></span>
      <img src="{{ facebook_profile_url }}"/>
    </div>
    <span class="name">{{attributes.name}}</span>
    {{#unless is_self}}
      <small><a class="remove_player icon12 close inset">Remove</a></small>
    {{/unless}}
  </li>
</template>

<template name="add_player">
  <div id="add_player">
    <h3>Find players to add to your team</h3>
    <div class="icon16 search">
      <input name="player[name]" placeholder="Type a players name"></input>
    </div>
    <ul class="player_list state_aware">
      {{#unless results}}
        Loading friends...
      {{/unless}}
      {{#each results}}
        {{> player}}
      {{/each}}
    </ul>
  </div>

</template>